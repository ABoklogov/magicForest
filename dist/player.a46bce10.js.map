{"version":3,"sources":["js/player.js"],"names":["Vue","el","data","audio","circleLeft","barWidth","duration","currentTime","isTimerPlaying","tracks","name","artist","cover","source","url","favorited","currentTrack","currentTrackIndex","transitionName","methods","play","paused","pause","getCoords","elem","box","getBoundingClientRect","top","pageYOffset","left","pageXOffset","generateTime","width","durmin","Math","floor","dursec","curmin","cursec","updateBar","x","progress","$refs","maxduration","position","offsetLeft","percentage","offsetWidth","clickProgress","e","pageX","prevTrack","isShowCover","length","resetPlayer","nextTrack","_this","src","setTimeout","favorite","created","vm","Audio","ontimeupdate","onloadedmetadata","onended","index","element","link","document","createElement","rel","href","as","head","appendChild"],"mappings":"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","file":"player.a46bce10.js","sourceRoot":"../src","sourcesContent":["new Vue({\n  el: \"#app\",\n  data() {\n    return {\n      audio: null,\n      circleLeft: null,\n      barWidth: null,\n      duration: null,\n      currentTime: null,\n      isTimerPlaying: false,\n      // top: '20vh;',\n      // left: '20vw;',\n      tracks: [\n        {\n          name: \"MekanÄ±n Sahibi\",\n          artist: \"Norm Ender\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/1.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/1.mp3\",\n          url: \"https://www.youtube.com/watch?v=z3wAjJXbYzA\",\n          favorited: false\n        },\n        {\n          name: \"Everybody Knows\",\n          artist: \"Leonard Cohen\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/2.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/2.mp3\",\n          url: \"https://www.youtube.com/watch?v=Lin-a2lTelg\",\n          favorited: true\n        },\n        {\n          name: \"Extreme Ways\",\n          artist: \"Moby\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/3.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/3.mp3\",\n          url: \"https://www.youtube.com/watch?v=ICjyAe9S54c\",\n          favorited: false\n        },\n        {\n          name: \"Butterflies\",\n          artist: \"Sia\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/4.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/4.mp3\",\n          url: \"https://www.youtube.com/watch?v=kYgGwWYOd9Y\",\n          favorited: false\n        },\n        {\n          name: \"The Final Victory\",\n          artist: \"Haggard\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/5.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/5.mp3\",\n          url: \"https://www.youtube.com/watch?v=0WlpALnQdN8\",\n          favorited: true\n        },\n        {\n          name: \"Genius ft. Sia, Diplo, Labrinth\",\n          artist: \"LSD\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/6.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/6.mp3\",\n          url: \"https://www.youtube.com/watch?v=HhoATZ1Imtw\",\n          favorited: false\n        },\n        {\n          name: \"The Comeback Kid\",\n          artist: \"Lindi Ortega\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/7.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/7.mp3\",\n          url: \"https://www.youtube.com/watch?v=me6aoX0wCV8\",\n          favorited: true\n        },\n        {\n          name: \"Overdose\",\n          artist: \"Grandson\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/8.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/8.mp3\",\n          url: \"https://www.youtube.com/watch?v=00-Rl3Jlx-o\",\n          favorited: false\n        },\n        {\n          name: \"Rag'n'Bone Man\",\n          artist: \"Human\",\n          cover: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/img/9.jpg\",\n          source: \"https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/9.mp3\",\n          url: \"https://www.youtube.com/watch?v=L3wKzyIN1yk\",\n          favorited: false\n        }\n      ],\n      currentTrack: null,\n      currentTrackIndex: 0,\n      transitionName: null\n    };\n  },\n  methods: {\n    play() {\n      if (this.audio.paused) {\n        this.audio.play();\n        this.isTimerPlaying = true;\n      } else {\n        this.audio.pause();\n        this.isTimerPlaying = false;\n      }\n    },\n\n    getCoords(elem) {\n      const box = elem.getBoundingClientRect();\n      // console.log(\"ð ~ getCoords ~ box:\", box)\n      // console.log(\"ð ~ getCoords ~ pageYOffset:\", pageYOffset)\n      return {\n        top: box.top + pageYOffset,\n        left: box.left + pageXOffset\n      };\n    },\n    generateTime() {\n      let width = (100 / this.audio.duration) * this.audio.currentTime;\n      this.barWidth = width + \"%\";\n      this.circleLeft = width + \"%\";\n      let durmin = Math.floor(this.audio.duration / 60);\n      let dursec = Math.floor(this.audio.duration - durmin * 60);\n      let curmin = Math.floor(this.audio.currentTime / 60);\n      let cursec = Math.floor(this.audio.currentTime - curmin * 60);\n      if (durmin < 10) {\n        durmin = \"0\" + durmin;\n      }\n      if (dursec < 10) {\n        dursec = \"0\" + dursec;\n      }\n      if (curmin < 10) {\n        curmin = \"0\" + curmin;\n      }\n      if (cursec < 10) {\n        cursec = \"0\" + cursec;\n      }\n      this.duration = durmin + \":\" + dursec;\n      this.currentTime = curmin + \":\" + cursec;\n    },\n    updateBar(x) {\n      let progress = this.$refs.progress;\n      let maxduration = this.audio.duration;\n      let position = x - progress.offsetLeft;\n      let percentage = (100 * position) / progress.offsetWidth;\n      if (percentage > 100) {\n        percentage = 100;\n      }\n      if (percentage < 0) {\n        percentage = 0;\n      }\n      this.barWidth = percentage + \"%\";\n      this.circleLeft = percentage + \"%\";\n      this.audio.currentTime = (maxduration * percentage) / 100;\n      this.audio.play();\n    },\n    clickProgress(e) {\n      this.isTimerPlaying = true;\n      this.audio.pause();\n      this.updateBar(e.pageX);\n    },\n    prevTrack() {\n      this.transitionName = \"scale-in\";\n      this.isShowCover = false;\n      if (this.currentTrackIndex > 0) {\n        this.currentTrackIndex--;\n      } else {\n        this.currentTrackIndex = this.tracks.length - 1;\n      }\n      this.currentTrack = this.tracks[this.currentTrackIndex];\n      this.resetPlayer();\n    },\n    nextTrack() {\n      this.transitionName = \"scale-out\";\n      this.isShowCover = false;\n      if (this.currentTrackIndex < this.tracks.length - 1) {\n        this.currentTrackIndex++;\n      } else {\n        this.currentTrackIndex = 0;\n      }\n      this.currentTrack = this.tracks[this.currentTrackIndex];\n      this.resetPlayer();\n    },\n    resetPlayer() {\n      this.barWidth = 0;\n      this.circleLeft = 0;\n      this.audio.currentTime = 0;\n      this.audio.src = this.currentTrack.source;\n      setTimeout(() => {\n        if (this.isTimerPlaying) {\n          this.audio.play();\n        } else {\n          this.audio.pause();\n        }\n      }, 300);\n    },\n    favorite() {\n      this.tracks[this.currentTrackIndex].favorited = !this.tracks[\n        this.currentTrackIndex\n      ].favorited;\n    }\n  },\n  created() {\n    let vm = this;\n    this.currentTrack = this.tracks[0];\n    this.audio = new Audio();\n    this.audio.src = this.currentTrack.source;\n    this.audio.ontimeupdate = function () {\n      vm.generateTime();\n    };\n    this.audio.onloadedmetadata = function () {\n      vm.generateTime();\n    };\n    this.audio.onended = function () {\n      vm.nextTrack();\n      this.isTimerPlaying = true;\n    };\n\n    // this is optional (for preload covers)\n    for (let index = 0; index < this.tracks.length; index++) {\n      const element = this.tracks[index];\n      let link = document.createElement('link');\n      link.rel = \"prefetch\";\n      link.href = element.cover;\n      link.as = \"image\"\n      document.head.appendChild(link)\n    }\n  }\n});"]}